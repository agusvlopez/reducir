import { Link } from "react-router-dom";
import { useState } from "react";
import { useAuth } from "../../hooks/useAuth";

export function Navbar() {
    const { userId } = useAuth();

    const [isCloseIconVisible, setIsCloseIconVisible] = useState(false);

    const toggleMenu = () => {
        setIsCloseIconVisible(!isCloseIconVisible);
    };

    return (
        <div className="fixed z-20 top-0 left-0 right-0 bg-white shadow-md">
            <nav className="flex justify-between items-center p-4 py-6">
                <Link to={`/app/home/${userId}`} className="text-gray-700 hover:text-dark-green transition-colors duration-200">
                    <svg width="103" height="23" viewBox="0 0 103 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <mask id="path-1-inside-1_2878_44" fill="white">
                    <path d="M45.62 0C45.96 0 46.24 0.12 46.46 0.359999C46.7 0.58 46.82 0.86 46.82 1.2V20.97C46.82 21.31 46.7 21.6 46.46 21.84C46.24 22.08 45.96 22.2 45.62 22.2C45.26 22.2 44.97 22.08 44.75 21.84C44.53 21.6 44.42 21.31 44.42 20.97V18.12L44.99 17.91C44.99 18.39 44.84 18.9 44.54 19.44C44.24 19.96 43.83 20.45 43.31 20.91C42.79 21.37 42.17 21.75 41.45 22.05C40.75 22.35 39.99 22.5 39.17 22.5C37.83 22.5 36.61 22.15 35.51 21.45C34.43 20.75 33.57 19.79 32.93 18.57C32.31 17.35 32 15.96 32 14.4C32 12.82 32.31 11.42 32.93 10.2C33.57 8.98 34.43 8.03 35.51 7.35C36.59 6.65 37.79 6.3 39.11 6.3C39.95 6.3 40.74 6.44 41.48 6.72C42.22 7 42.86 7.38 43.4 7.86C43.96 8.34 44.4 8.87 44.72 9.45C45.04 10.03 45.2 10.61 45.2 11.19L44.42 11.01V1.2C44.42 0.86 44.53 0.58 44.75 0.359999C44.97 0.12 45.26 0 45.62 0ZM39.44 20.28C40.44 20.28 41.32 20.03 42.08 19.53C42.86 19.01 43.46 18.31 43.88 17.43C44.32 16.53 44.54 15.52 44.54 14.4C44.54 13.26 44.32 12.25 43.88 11.37C43.46 10.49 42.86 9.8 42.08 9.3C41.32 8.78 40.44 8.52 39.44 8.52C38.46 8.52 37.58 8.78 36.8 9.3C36.04 9.8 35.44 10.49 35 11.37C34.56 12.25 34.34 13.26 34.34 14.4C34.34 15.5 34.56 16.5 35 17.4C35.44 18.28 36.04 18.98 36.8 19.5C37.58 20.02 38.46 20.28 39.44 20.28Z"/>
                    <path d="M63.9465 6.69C64.3065 6.69 64.5965 6.81 64.8165 7.05C65.0365 7.27 65.1465 7.55 65.1465 7.89V16.08C65.1465 18.1 64.5765 19.67 63.4365 20.79C62.3165 21.89 60.7465 22.44 58.7265 22.44C56.7265 22.44 55.1565 21.89 54.0165 20.79C52.8965 19.67 52.3365 18.1 52.3365 16.08V7.89C52.3365 7.55 52.4465 7.27 52.6665 7.05C52.9065 6.81 53.1965 6.69 53.5365 6.69C53.8965 6.69 54.1865 6.81 54.4065 7.05C54.6265 7.27 54.7365 7.55 54.7365 7.89V16.08C54.7365 17.44 55.0865 18.47 55.7865 19.17C56.4865 19.87 57.4665 20.22 58.7265 20.22C60.0265 20.22 61.0165 19.87 61.6965 19.17C62.3965 18.47 62.7465 17.44 62.7465 16.08V7.89C62.7465 7.55 62.8565 7.27 63.0765 7.05C63.3165 6.81 63.6065 6.69 63.9465 6.69Z"/>
                    <path d="M77.0923 6.3C78.1123 6.3 79.0323 6.41 79.8523 6.63C80.6723 6.85 81.3223 7.15 81.8023 7.53C82.2823 7.91 82.5223 8.34 82.5223 8.82C82.5223 9.08 82.4323 9.33 82.2523 9.57C82.0723 9.81 81.8323 9.93 81.5323 9.93C81.2523 9.93 81.0223 9.88 80.8423 9.78C80.6823 9.68 80.5223 9.55 80.3623 9.39C80.2223 9.23 80.0223 9.09 79.7623 8.97C79.5223 8.83 79.1723 8.72 78.7123 8.64C78.2523 8.56 77.7923 8.52 77.3323 8.52C76.2323 8.52 75.2623 8.78 74.4223 9.3C73.6023 9.82 72.9523 10.52 72.4723 11.4C71.9923 12.28 71.7523 13.28 71.7523 14.4C71.7523 15.52 71.9823 16.52 72.4423 17.4C72.9023 18.28 73.5423 18.98 74.3623 19.5C75.1823 20.02 76.1323 20.28 77.2123 20.28C77.9123 20.28 78.4723 20.22 78.8923 20.1C79.3123 19.98 79.6623 19.84 79.9423 19.68C80.3023 19.48 80.5723 19.28 80.7523 19.08C80.9523 18.88 81.2123 18.78 81.5323 18.78C81.8723 18.78 82.1323 18.89 82.3123 19.11C82.5123 19.33 82.6123 19.6 82.6123 19.92C82.6123 20.28 82.3623 20.66 81.8623 21.06C81.3623 21.46 80.6823 21.8 79.8223 22.08C78.9823 22.36 78.0223 22.5 76.9423 22.5C75.4223 22.5 74.0923 22.15 72.9523 21.45C71.8123 20.73 70.9223 19.76 70.2823 18.54C69.6623 17.3 69.3523 15.92 69.3523 14.4C69.3523 12.88 69.6723 11.51 70.3123 10.29C70.9723 9.07 71.8823 8.1 73.0423 7.38C74.2023 6.66 75.5523 6.3 77.0923 6.3Z"/>
                    <path d="M88.659 20.97C88.659 21.31 88.539 21.6 88.299 21.84C88.079 22.08 87.799 22.2 87.459 22.2C87.099 22.2 86.809 22.08 86.589 21.84C86.369 21.6 86.259 21.31 86.259 20.97V7.65C86.259 7.31 86.369 7.03 86.589 6.81C86.829 6.57 87.119 6.45 87.459 6.45C87.799 6.45 88.079 6.57 88.299 6.81C88.539 7.03 88.659 7.31 88.659 7.65V20.97Z"/>
                    <path d="M94.7701 22.2C94.4301 22.2 94.1401 22.08 93.9001 21.84C93.6801 21.6 93.5701 21.31 93.5701 20.97V7.89C93.5701 7.55 93.6801 7.27 93.9001 7.05C94.1401 6.81 94.4301 6.69 94.7701 6.69C95.1301 6.69 95.4201 6.81 95.6401 7.05C95.8601 7.27 95.9701 7.55 95.9701 7.89V11.85L95.6101 11.22C95.7301 10.6 95.9401 10 96.2401 9.42C96.5601 8.82 96.9601 8.29 97.4401 7.83C97.9201 7.35 98.4701 6.98 99.0901 6.72C99.7101 6.44 100.39 6.3 101.13 6.3C101.57 6.3 101.97 6.41 102.33 6.63C102.71 6.83 102.9 7.12 102.9 7.5C102.9 7.92 102.79 8.23 102.57 8.43C102.35 8.63 102.1 8.73 101.82 8.73C101.56 8.73 101.31 8.68 101.07 8.58C100.83 8.46 100.53 8.4 100.17 8.4C99.6701 8.4 99.1701 8.54 98.6701 8.82C98.1901 9.08 97.7401 9.46 97.3201 9.96C96.9201 10.46 96.5901 11.03 96.3301 11.67C96.0901 12.29 95.9701 12.96 95.9701 13.68V20.97C95.9701 21.31 95.8501 21.6 95.6101 21.84C95.3901 22.08 95.1101 22.2 94.7701 22.2Z"/>
                    </mask>
                    <path d="M45.62 0C45.96 0 46.24 0.12 46.46 0.359999C46.7 0.58 46.82 0.86 46.82 1.2V20.97C46.82 21.31 46.7 21.6 46.46 21.84C46.24 22.08 45.96 22.2 45.62 22.2C45.26 22.2 44.97 22.08 44.75 21.84C44.53 21.6 44.42 21.31 44.42 20.97V18.12L44.99 17.91C44.99 18.39 44.84 18.9 44.54 19.44C44.24 19.96 43.83 20.45 43.31 20.91C42.79 21.37 42.17 21.75 41.45 22.05C40.75 22.35 39.99 22.5 39.17 22.5C37.83 22.5 36.61 22.15 35.51 21.45C34.43 20.75 33.57 19.79 32.93 18.57C32.31 17.35 32 15.96 32 14.4C32 12.82 32.31 11.42 32.93 10.2C33.57 8.98 34.43 8.03 35.51 7.35C36.59 6.65 37.79 6.3 39.11 6.3C39.95 6.3 40.74 6.44 41.48 6.72C42.22 7 42.86 7.38 43.4 7.86C43.96 8.34 44.4 8.87 44.72 9.45C45.04 10.03 45.2 10.61 45.2 11.19L44.42 11.01V1.2C44.42 0.86 44.53 0.58 44.75 0.359999C44.97 0.12 45.26 0 45.62 0ZM39.44 20.28C40.44 20.28 41.32 20.03 42.08 19.53C42.86 19.01 43.46 18.31 43.88 17.43C44.32 16.53 44.54 15.52 44.54 14.4C44.54 13.26 44.32 12.25 43.88 11.37C43.46 10.49 42.86 9.8 42.08 9.3C41.32 8.78 40.44 8.52 39.44 8.52C38.46 8.52 37.58 8.78 36.8 9.3C36.04 9.8 35.44 10.49 35 11.37C34.56 12.25 34.34 13.26 34.34 14.4C34.34 15.5 34.56 16.5 35 17.4C35.44 18.28 36.04 18.98 36.8 19.5C37.58 20.02 38.46 20.28 39.44 20.28Z" stroke="#005840" strokeWidth="4" strokeLinejoin="round" mask="url(#path-1-inside-1_2878_44)"/>
                    <path d="M63.9465 6.69C64.3065 6.69 64.5965 6.81 64.8165 7.05C65.0365 7.27 65.1465 7.55 65.1465 7.89V16.08C65.1465 18.1 64.5765 19.67 63.4365 20.79C62.3165 21.89 60.7465 22.44 58.7265 22.44C56.7265 22.44 55.1565 21.89 54.0165 20.79C52.8965 19.67 52.3365 18.1 52.3365 16.08V7.89C52.3365 7.55 52.4465 7.27 52.6665 7.05C52.9065 6.81 53.1965 6.69 53.5365 6.69C53.8965 6.69 54.1865 6.81 54.4065 7.05C54.6265 7.27 54.7365 7.55 54.7365 7.89V16.08C54.7365 17.44 55.0865 18.47 55.7865 19.17C56.4865 19.87 57.4665 20.22 58.7265 20.22C60.0265 20.22 61.0165 19.87 61.6965 19.17C62.3965 18.47 62.7465 17.44 62.7465 16.08V7.89C62.7465 7.55 62.8565 7.27 63.0765 7.05C63.3165 6.81 63.6065 6.69 63.9465 6.69Z" stroke="#005840" strokeWidth="4" strokeLinejoin="round" mask="url(#path-1-inside-1_2878_44)"/>
                    <path d="M77.0923 6.3C78.1123 6.3 79.0323 6.41 79.8523 6.63C80.6723 6.85 81.3223 7.15 81.8023 7.53C82.2823 7.91 82.5223 8.34 82.5223 8.82C82.5223 9.08 82.4323 9.33 82.2523 9.57C82.0723 9.81 81.8323 9.93 81.5323 9.93C81.2523 9.93 81.0223 9.88 80.8423 9.78C80.6823 9.68 80.5223 9.55 80.3623 9.39C80.2223 9.23 80.0223 9.09 79.7623 8.97C79.5223 8.83 79.1723 8.72 78.7123 8.64C78.2523 8.56 77.7923 8.52 77.3323 8.52C76.2323 8.52 75.2623 8.78 74.4223 9.3C73.6023 9.82 72.9523 10.52 72.4723 11.4C71.9923 12.28 71.7523 13.28 71.7523 14.4C71.7523 15.52 71.9823 16.52 72.4423 17.4C72.9023 18.28 73.5423 18.98 74.3623 19.5C75.1823 20.02 76.1323 20.28 77.2123 20.28C77.9123 20.28 78.4723 20.22 78.8923 20.1C79.3123 19.98 79.6623 19.84 79.9423 19.68C80.3023 19.48 80.5723 19.28 80.7523 19.08C80.9523 18.88 81.2123 18.78 81.5323 18.78C81.8723 18.78 82.1323 18.89 82.3123 19.11C82.5123 19.33 82.6123 19.6 82.6123 19.92C82.6123 20.28 82.3623 20.66 81.8623 21.06C81.3623 21.46 80.6823 21.8 79.8223 22.08C78.9823 22.36 78.0223 22.5 76.9423 22.5C75.4223 22.5 74.0923 22.15 72.9523 21.45C71.8123 20.73 70.9223 19.76 70.2823 18.54C69.6623 17.3 69.3523 15.92 69.3523 14.4C69.3523 12.88 69.6723 11.51 70.3123 10.29C70.9723 9.07 71.8823 8.1 73.0423 7.38C74.2023 6.66 75.5523 6.3 77.0923 6.3Z" stroke="#005840" strokeWidth="4" strokeLinejoin="round" mask="url(#path-1-inside-1_2878_44)"/>
                    <path d="M88.659 20.97C88.659 21.31 88.539 21.6 88.299 21.84C88.079 22.08 87.799 22.2 87.459 22.2C87.099 22.2 86.809 22.08 86.589 21.84C86.369 21.6 86.259 21.31 86.259 20.97V7.65C86.259 7.31 86.369 7.03 86.589 6.81C86.829 6.57 87.119 6.45 87.459 6.45C87.799 6.45 88.079 6.57 88.299 6.81C88.539 7.03 88.659 7.31 88.659 7.65V20.97Z" stroke="#005840" strokeWidth="4" strokeLinejoin="round" mask="url(#path-1-inside-1_2878_44)"/>
                    <path d="M94.7701 22.2C94.4301 22.2 94.1401 22.08 93.9001 21.84C93.6801 21.6 93.5701 21.31 93.5701 20.97V7.89C93.5701 7.55 93.6801 7.27 93.9001 7.05C94.1401 6.81 94.4301 6.69 94.7701 6.69C95.1301 6.69 95.4201 6.81 95.6401 7.05C95.8601 7.27 95.9701 7.55 95.9701 7.89V11.85L95.6101 11.22C95.7301 10.6 95.9401 10 96.2401 9.42C96.5601 8.82 96.9601 8.29 97.4401 7.83C97.9201 7.35 98.4701 6.98 99.0901 6.72C99.7101 6.44 100.39 6.3 101.13 6.3C101.57 6.3 101.97 6.41 102.33 6.63C102.71 6.83 102.9 7.12 102.9 7.5C102.9 7.92 102.79 8.23 102.57 8.43C102.35 8.63 102.1 8.73 101.82 8.73C101.56 8.73 101.31 8.68 101.07 8.58C100.83 8.46 100.53 8.4 100.17 8.4C99.6701 8.4 99.1701 8.54 98.6701 8.82C98.1901 9.08 97.7401 9.46 97.3201 9.96C96.9201 10.46 96.5901 11.03 96.3301 11.67C96.0901 12.29 95.9701 12.96 95.9701 13.68V20.97C95.9701 21.31 95.8501 21.6 95.6101 21.84C95.3901 22.08 95.1101 22.2 94.7701 22.2Z" stroke="#005840" strokeWidth="4" strokeLinejoin="round" mask="url(#path-1-inside-1_2878_44)"/>
                    <path d="M2.0338 22.576C1.8658 22.576 1.6738 22.528 1.4578 22.432C1.2658 22.336 1.0858 22.192 0.917797 22C0.773797 21.832 0.701797 21.652 0.701797 21.46C0.701797 21.196 0.761797 20.896 0.881797 20.56C1.0018 20.2 1.1578 19.756 1.3498 19.228L4.7698 10.336C4.8898 10.048 4.9258 9.796 4.8778 9.58C4.8538 9.34 4.7218 9.22 4.4818 9.22C4.0978 9.22 3.7498 9.28 3.4378 9.4C3.1258 9.52 2.8498 9.664 2.6098 9.832C2.4658 9.928 2.3218 9.952 2.1778 9.904C2.0338 9.856 1.9618 9.736 1.9618 9.544C1.9378 9.256 2.0578 8.944 2.3218 8.608C2.6098 8.272 2.9698 7.972 3.4018 7.708C3.7618 7.444 4.1818 7.24 4.6618 7.096C5.1418 6.928 5.6218 6.844 6.1018 6.844C6.7738 6.844 7.2178 7.024 7.4338 7.384C7.6498 7.72 7.7098 8.188 7.6138 8.788C7.5418 9.364 7.3498 10.024 7.0378 10.768L5.4898 14.548C5.3938 14.716 5.4178 14.824 5.5618 14.872C5.7298 14.92 5.8498 14.872 5.9218 14.728C6.8338 13.12 7.7458 11.728 8.6578 10.552C9.5938 9.352 10.4698 8.416 11.2858 7.744C12.1258 7.072 12.8818 6.736 13.5538 6.736C14.2258 6.736 14.7058 6.928 14.9938 7.312C15.3058 7.696 15.4618 8.164 15.4618 8.716C15.4618 9.22 15.3538 9.724 15.1378 10.228C14.9458 10.732 14.6818 11.152 14.3458 11.488C14.0338 11.8 13.7098 11.956 13.3738 11.956C13.1338 11.956 12.9538 11.836 12.8338 11.596C12.7378 11.356 12.6658 11.02 12.6178 10.588C12.5938 10.228 12.5218 9.928 12.4018 9.688C12.3058 9.424 12.1258 9.292 11.8618 9.292C11.5498 9.292 11.1898 9.496 10.7818 9.904C10.3738 10.288 9.8818 10.9 9.3058 11.74C9.0658 12.076 8.7418 12.556 8.3338 13.18C7.9258 13.78 7.4938 14.452 7.0378 15.196C6.5818 15.94 6.1258 16.684 5.6698 17.428C5.2138 18.172 4.8178 18.844 4.4818 19.444C3.9058 20.476 3.4378 21.256 3.0778 21.784C2.7178 22.312 2.3698 22.576 2.0338 22.576ZM19.9373 22.54C19.3853 22.54 18.8093 22.348 18.2093 21.964C17.6333 21.58 17.1413 21.076 16.7333 20.452C16.3493 19.828 16.1573 19.204 16.1573 18.58C16.1573 17.26 16.4093 15.916 16.9133 14.548C17.4413 13.18 18.1493 11.92 19.0373 10.768C19.9253 9.592 20.9333 8.644 22.0613 7.924C23.2133 7.204 24.4133 6.844 25.6613 6.844C26.6933 6.844 27.4733 7.06 28.0013 7.492C28.5293 7.9 28.7933 8.428 28.7933 9.076C28.7933 9.844 28.5413 10.516 28.0373 11.092C27.5573 11.644 26.9093 12.124 26.0933 12.532C25.2773 12.94 24.3773 13.276 23.3933 13.54C22.4333 13.804 21.4613 14.032 20.4773 14.224C20.3573 14.248 20.2613 14.284 20.1893 14.332C20.1173 14.356 20.0573 14.428 20.0093 14.548C19.8893 14.956 19.7693 15.4 19.6493 15.88C19.5293 16.36 19.4573 16.804 19.4333 17.212C19.4333 18.052 19.6133 18.736 19.9733 19.264C20.3573 19.768 20.9213 20.02 21.6653 20.02C22.4573 20.02 23.1413 19.828 23.7173 19.444C24.2933 19.036 24.8093 18.592 25.2653 18.112C25.5053 17.848 25.7093 17.716 25.8773 17.716C26.1173 17.716 26.2373 17.836 26.2373 18.076C26.2373 18.124 26.2373 18.184 26.2373 18.256C26.2373 18.328 26.2133 18.388 26.1653 18.436C25.6853 19.252 25.1333 19.972 24.5093 20.596C23.8853 21.196 23.1893 21.664 22.4213 22C21.6773 22.36 20.8493 22.54 19.9373 22.54ZM20.7293 13.216C21.0893 13.168 21.5693 13.06 22.1693 12.892C22.7693 12.724 23.3693 12.472 23.9693 12.136C24.5933 11.8 25.1213 11.38 25.5533 10.876C25.9853 10.372 26.2013 9.76 26.2013 9.04C26.2013 8.752 26.1173 8.488 25.9493 8.248C25.7813 8.008 25.5413 7.888 25.2293 7.888C24.7493 7.888 24.2453 8.08 23.7173 8.464C23.1893 8.848 22.6853 9.316 22.2053 9.868C21.7253 10.42 21.3293 10.984 21.0173 11.56C20.7053 12.136 20.5253 12.616 20.4773 13C20.4773 13.168 20.5613 13.24 20.7293 13.216Z" fill="#C9D641"/>
                    <circle cx="87.5" cy="3.5" r="1.5" fill="#005840"/>
                    </svg>
                </Link>
                <button onClick={toggleMenu} className="transition duration-300 ease-in-out">
                    {isCloseIconVisible ? (
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19.5876 21.7258L27.6246 26.468C28.14 26.772 28.8011 26.6454 29.1675 26.1724C29.6081 25.6038 29.4463 24.7772 28.8239 24.4167L21.8844 20.3967L28.8761 16.3506C29.3112 16.0988 29.4986 15.568 29.3179 15.0989C29.0945 14.5188 28.4093 14.2708 27.8664 14.5737L19.6981 19.1302L11.8032 14.5567C11.2726 14.2494 10.5933 14.4308 10.2866 14.9617C9.98215 15.4888 10.1592 16.1627 10.6834 16.472L17.3801 20.4233L10.1998 24.4287C9.56844 24.7809 9.39866 25.6125 9.84146 26.184C10.2036 26.6514 10.8554 26.7791 11.3671 26.483L19.5876 21.7258Z" fill="#005840"/>
                        </svg>
                    ) : (
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M28.3627 17.2746H10.6373C9.73304 17.2746 9 16.5415 9 15.6373C9 14.733 9.73303 14 10.6373 14H28.3627C29.267 14 30 14.733 30 15.6373C30 16.5415 29.267 17.2746 28.3627 17.2746Z" fill="#005840"/>
                        <path d="M28.3627 27H10.6373C9.73304 27 9 26.267 9 25.3627C9 24.4585 9.73303 23.7254 10.6373 23.7254H28.3627C29.267 23.7254 30 24.4585 30 25.3627C30 26.267 29.267 27 28.3627 27Z" fill="#005840"/>
                        </svg>
                    )}
                </button>
            </nav>
            {isCloseIconVisible && (
                <Link to="/app/profile/settings"
                    onClick={toggleMenu}
                    className="absolute top-16 left-0 right-0 bg-white shadow-md p-4 text-gray hover:text-dark-green w-full">
                    Ajustes del perfil
                </Link>
            )}
        </div>
    );
}